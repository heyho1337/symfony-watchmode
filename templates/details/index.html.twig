{% extends 'base.html.twig' %}

{% block title %}{{details['title']}}'s details{% endblock %}

{% block body %}

<section class="details text-slate-200 font-ox max-w-[1400px] mx-auto grid grid-cols-2 gap-x-[16px] gap-y-[16px] grid-rows-[repeat(9,min-content)]">
    <h1 class="col-start-2 col-end-2 row-start-1 row-end-1 mb-[20px] text-3xl">{{details['title']}}</h1>
	<img class="col-start-1 col-end-1 row-start-1 row-end-8" src="{{details['backdrop']}}"/>
	<p class="desc col-start-2 col-end-2 row-start-2 row-end-2">{{details['plot_overview']}}</p>
	<span data-title="release date col-start-2 col-end-2 row-start-3 row-end-3" class="release">Release date: {{details['release_date']}}</span>
	<span data-title="ended col-start-2 col-end-2" class="end row-start-4 row-end-4">
		{% if details['end_year'] == NULL %}
			Ongoing
		{% else %}
			Finished in {{details['end_year']}}
		{% endif %}
	</span>
	<span data-title="rating col-start-2 col-end-2" class="rating row-start-5 row-end-5">audience rating:{{details['user_rating']}}</span>
	<div class="col-start-2 col-end-2 text-slate-950 row-start-6 row-end-6">
		{% include '/favourites/AddToFavourites.html.twig' %}
	</div>
	{% set trailer = details['trailer'] %}

	<iframe class="trailer mt-[40px] col-start-1 col-end-3" width="560" height="315" src="{{ trailer|replace({'watch?v=': 'embed/'}) }}" frameborder="0" allowfullscreen></iframe>

</section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/AddToFavourites.js') }}"></script>
	<script src="{{ asset('js/Dialog.js') }}"></script>
{% endblock %}


